webpackJsonp([2],{165:function(t,e,o){function a(t){o(203)}var r=o(4)(o(205),o(216),a,"data-v-4e89c22e",null);t.exports=r.exports},203:function(t,e,o){var a=o(204);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);o(161)("5f9b7d3f",a,!0)},204:function(t,e,o){e=t.exports=o(160)(!0),e.push([t.i,"#group-list[data-v-4e89c22e]{padding:32px;padding:2rem}.group[data-v-4e89c22e]{background-color:#fbfbfb;border:1.8px solid #e0e0e0;padding:8px;padding:.5rem;margin-right:19.2px;margin-right:1.2rem;margin-bottom:19.2px;margin-bottom:1.2rem;float:left;list-style:none}.group>span[data-v-4e89c22e]{margin-right:32px;margin-right:2rem;color:#585b60}","",{version:3,sources:["/Users/hxf/www/weRobot/src/page/GroupList.vue"],names:[],mappings:"AAAA,6BAA6B,aAAa,YAAY,CAAC,wBAAwB,yBAAyB,2BAA2B,YAAY,cAAc,oBAAoB,oBAAoB,qBAAqB,qBAAqB,WAAW,eAAe,CAAC,6BAA6B,kBAAkB,kBAAkB,aAAa,CAAC",file:"GroupList.vue",sourcesContent:["#group-list[data-v-4e89c22e]{padding:32px;padding:2rem}.group[data-v-4e89c22e]{background-color:#fbfbfb;border:1.8px solid #e0e0e0;padding:8px;padding:.5rem;margin-right:19.2px;margin-right:1.2rem;margin-bottom:19.2px;margin-bottom:1.2rem;float:left;list-style:none}.group>span[data-v-4e89c22e]{margin-right:32px;margin-right:2rem;color:#585b60}"],sourceRoot:""}])},205:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=o(21),r=o.n(a),i=o(22),s=o.n(i),n=o(8),c=o.n(n),l=o(11),d=o(206),p=o.n(d),u=o(211),A=o.n(u),m=o(57);e.default={name:"GroupList",data:function(){return{deteleGroupModal:!1,addGroupModal:!1,deleteData:{name:""}}},methods:c()({openDeleteGroup:function(t,e){this.deleteData={id:t,name:e},this.deteleGroupModal=!0},closeDeleteGroup:function(){this.deteleGroupModal=!1},deleteGroup:function(t){var e=this;return s()(r.a.mark(function o(){var a;return r.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return e.loading({text:"正在删除"}),o.prev=1,o.next=4,m.a.updateGroup([{id:t,isMonitor:!1,isAtReply:!1}]);case 4:a=o.sent,e.loading({text:a}),e.loaded(1500),e.closeDeleteGroup(),e.getGroupList(),o.next=15;break;case 11:o.prev=11,o.t0=o.catch(1),e.loading({text:o.t0}),e.loaded(1500);case 15:case"end":return o.stop()}},o,e,[[1,11]])}))()},openAddGroupModal:function(){this.addGroupModal=!0},closeAddGroupModal:function(){this.addGroupModal=!1}},Object(l.c)(["closeBackDrop","loading","loaded"]),Object(l.b)("Robot",["getGroupList"])),components:{DeleteGroupModal:p.a,AddGroupModal:A.a},computed:c()({},Object(l.d)("Robot",{robotList:"list",groupList:"groupList"}))}},206:function(t,e,o){function a(t){o(207)}var r=o(4)(o(209),o(210),a,"data-v-1f30f4d6",null);t.exports=r.exports},207:function(t,e,o){var a=o(208);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);o(161)("2db7783e",a,!0)},208:function(t,e,o){e=t.exports=o(160)(!0),e.push([t.i,".body span[data-v-1f30f4d6]{color:#585b60;text-align:center;padding-top:32px;padding-top:2rem;padding-bottom:48px;padding-bottom:3rem;display:block}","",{version:3,sources:["/Users/hxf/www/weRobot/src/components/DeleteGroupModal.vue"],names:[],mappings:"AAAA,4BAA4B,cAAc,kBAAkB,iBAAiB,iBAAiB,oBAAoB,oBAAoB,aAAa,CAAC",file:"DeleteGroupModal.vue",sourcesContent:[".body span[data-v-1f30f4d6]{color:#585b60;text-align:center;padding-top:32px;padding-top:2rem;padding-bottom:48px;padding-bottom:3rem;display:block}"],sourceRoot:""}])},209:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=o(8),r=o.n(a),i=o(11),s=o(56),n=o.n(s);e.default={name:"DeleteGroupModal",props:["active","name"],data:function(){return{show:!1}},methods:r()({submit:function(){this.close(),this.$emit("submit")},close:function(){this.closeBackDrop(),this.show=!1,this.$emit("close")}},Object(i.c)(["closeBackDrop","openBackDrop"])),watch:{active:function(){this.show=this.active,this.show&&this.openBackDrop()}},components:{Modal:n.a}}},210:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("modal",{attrs:{active:t.show},on:{toogle:t.close}},[o("div",{staticClass:"modal-header"},[o("h6"),t._v(" "),o("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:t.close}},[o("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),t._v(" "),o("div",{staticClass:"body"},[o("span",[t._v("您确定要删除“"+t._s(t.name)+"“群么？"),o("br"),t._v("删除后该群将不再提供机器人服务")])]),t._v(" "),o("div",{staticClass:"modal-footer"},[o("button",{staticClass:"btn btn-submit",attrs:{type:"button"},on:{click:t.submit}},[t._v("确定删除")]),t._v(" "),o("button",{staticClass:"btn btn-cancel",attrs:{type:"button"},on:{click:t.close}},[t._v("取消")])])])},staticRenderFns:[]}},211:function(t,e,o){function a(t){o(212)}var r=o(4)(o(214),o(215),a,"data-v-3783ae3c",null);t.exports=r.exports},212:function(t,e,o){var a=o(213);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);o(161)("15f63c0c",a,!0)},213:function(t,e,o){e=t.exports=o(160)(!0),e.push([t.i,".body[data-v-3783ae3c],h6[data-v-3783ae3c]{color:#585b60}.body[data-v-3783ae3c]{max-height:600px;overflow-x:scroll;margin-left:32px;margin-left:2rem;padding-top:12.8px;padding-top:.8rem;padding-bottom:12.8px;padding-bottom:.8rem}.modal-footer .form-check[data-v-3783ae3c]{width:60px;margin-left:17px;margin-top:7px;color:#585b60}.modal-footer .form-check input[data-v-3783ae3c]{margin-right:5px}.modal-footer .refresh[data-v-3783ae3c]{width:80px;color:#585b60;cursor:pointer}.modal-footer .select[data-v-3783ae3c]{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;text-align:right;color:#585b60;padding-right:16px;padding-right:1rem}","",{version:3,sources:["/Users/hxf/www/weRobot/src/components/AddGroupModal.vue"],names:[],mappings:"AAAA,2CAA2C,aAAa,CAAC,uBAAuB,iBAAiB,kBAAkB,iBAAiB,iBAAiB,mBAAmB,kBAAkB,sBAAsB,oBAAoB,CAAC,2CAA2C,WAAW,iBAAiB,eAAe,aAAa,CAAC,iDAAiD,gBAAgB,CAAC,wCAAwC,WAAW,cAAc,cAAc,CAAC,uCAAuC,mBAAmB,oBAAoB,YAAY,iBAAiB,cAAc,mBAAmB,kBAAkB,CAAC",file:"AddGroupModal.vue",sourcesContent:[".body[data-v-3783ae3c],h6[data-v-3783ae3c]{color:#585b60}.body[data-v-3783ae3c]{max-height:600px;overflow-x:scroll;margin-left:32px;margin-left:2rem;padding-top:12.8px;padding-top:.8rem;padding-bottom:12.8px;padding-bottom:.8rem}.modal-footer .form-check[data-v-3783ae3c]{width:60px;margin-left:17px;margin-top:7px;color:#585b60}.modal-footer .form-check input[data-v-3783ae3c]{margin-right:5px}.modal-footer .refresh[data-v-3783ae3c]{width:80px;color:#585b60;cursor:pointer}.modal-footer .select[data-v-3783ae3c]{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;text-align:right;color:#585b60;padding-right:16px;padding-right:1rem}"],sourceRoot:""}])},214:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=o(21),r=o.n(a),i=o(22),s=o.n(i),n=o(8),c=o.n(n),l=o(11),d=o(56),p=o.n(d),u=o(57);e.default={name:"AddGroupModal",props:["active"],data:function(){return{show:!1,groupList:[],addGroupData:[],selectAll:!1}},methods:c()({submit:function(){var t=this;return s()(r.a.mark(function e(){var o;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading({text:"正在新增"}),e.prev=1,e.next=4,u.a.updateGroup(t.addGroupData.map(function(t){return{id:t,isMonitor:!0,isAtReply:!1}}));case 4:o=e.sent,t.loading({text:o}),t.addGroupData=[],t.selectAll=!1,t.loaded(1500),t.$emit("submit"),t.close(),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),t.loading({text:e.t0}),t.loaded(1500);case 17:case"end":return e.stop()}},e,t,[[1,13]])}))()},close:function(){this.closeBackDrop(),this.show=!1,this.$emit("close")},getGroupList:function(){var t=this;return s()(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading({text:"获取所有分组"}),e.prev=1,e.next=4,u.a.getGroupList({robotId:t.$route.params.id});case 4:t.groupList=e.sent,t.loaded(100),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),t.loading({text:e.t0}),t.loaded(1500);case 12:case"end":return e.stop()}},e,t,[[1,8]])}))()},toogleAll:function(){var t=this;this.addGroupData=[],this.selectAll&&this.unMonitorGroupList.forEach(function(e){t.addGroupData.push(e.id)})}},Object(l.c)(["closeBackDrop","openBackDrop","loading","loaded"])),watch:{active:function(){this.show=this.active,this.show&&(this.openBackDrop(),this.getGroupList())}},components:{Modal:p.a},computed:{unMonitorGroupList:function(){return this.groupList.filter(function(t){return!t.monitor})}}}},215:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("modal",{attrs:{active:t.show},on:{toogle:t.close}},[o("div",{staticClass:"modal-header"},[o("h6",{staticClass:"modal-title"},[t._v("请勾选需要添加的群组")]),t._v(" "),o("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:t.close}},[o("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),t._v(" "),o("form",{staticClass:"body"},t._l(t.unMonitorGroupList,function(e){return o("div",{key:e.id,staticClass:"form-check"},[o("label",{staticClass:"form-check-label"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.addGroupData,expression:"addGroupData"}],staticClass:"form-check-input",attrs:{type:"checkbox"},domProps:{value:e.id,checked:Array.isArray(t.addGroupData)?t._i(t.addGroupData,e.id)>-1:t.addGroupData},on:{__c:function(o){var a=t.addGroupData,r=o.target,i=!!r.checked;if(Array.isArray(a)){var s=e.id,n=t._i(a,s);r.checked?n<0&&(t.addGroupData=a.concat(s)):n>-1&&(t.addGroupData=a.slice(0,n).concat(a.slice(n+1)))}else t.addGroupData=i}}}),t._v("\n                "+t._s(e.nickname)+"\n            ")])])})),t._v(" "),o("div",{staticClass:"modal-footer"},[o("div",{staticClass:"form-check"},[o("label",{staticClass:"form-check-label"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.selectAll,expression:"selectAll"}],staticClass:"form-check-input",attrs:{type:"checkbox"},domProps:{value:!0,checked:Array.isArray(t.selectAll)?t._i(t.selectAll,!0)>-1:t.selectAll},on:{click:function(e){e.stopPropagation(),t.toogleAll(e)},__c:function(e){var o=t.selectAll,a=e.target,r=!!a.checked;if(Array.isArray(o)){var i=t._i(o,!0);a.checked?i<0&&(t.selectAll=o.concat(!0)):i>-1&&(t.selectAll=o.slice(0,i).concat(o.slice(i+1)))}else t.selectAll=r}}}),t._v("全选\n            ")])]),t._v(" "),o("div",{staticClass:"refresh",on:{click:t.getGroupList}},[t._v("刷新群")]),t._v(" "),o("div",{staticClass:"select"},[t._v("已选"+t._s(t.addGroupData.length)+"/"+t._s(t.unMonitorGroupList.length)+"个")]),t._v(" "),o("button",{staticClass:"btn btn-submit",attrs:{type:"button"},on:{click:t.submit}},[t._v("确定添加")])])])},staticRenderFns:[]}},216:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"group-list"}},[o("transition-group",{attrs:{tag:"ul"}},[o("li",{key:"0",staticClass:"group",on:{click:t.openAddGroupModal}},[o("span",[t._v("+ 添加群")])]),t._v(" "),t._l(t.groupList[t.$route.params.id],function(e){return o("li",{key:e.id,staticClass:"group"},[o("span",[t._v(t._s(e.nickname))]),t._v(" "),o("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(o){t.openDeleteGroup(e.id,e.nickname)}}},[o("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])})],2),t._v(" "),o("delete-group-modal",{attrs:{active:t.deteleGroupModal,name:t.deleteData.name},on:{submit:function(e){t.deleteGroup(t.deleteData.id)},close:t.closeDeleteGroup}}),t._v(" "),o("add-group-modal",{attrs:{active:t.addGroupModal},on:{close:t.closeAddGroupModal,submit:t.getGroupList}})],1)},staticRenderFns:[]}}});
//# sourceMappingURL=2.a09886f045de0885570d.js.map