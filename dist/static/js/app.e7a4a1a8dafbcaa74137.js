webpackJsonp([11],Array(34).concat([function(t,n,e){"use strict";var a=e(63),o=e.n(a),s=function(t){return JSON.parse(sessionStorage.getItem(t))||""},i=function(t,n){sessionStorage.setItem(t,o()(n))},r=function(t,n){if(!t)return"";var e=new Date(t),a=function(t){return t.toString().padStart(2,"0")};return n.replace(/YYYY|MM|dd|HH|mm|ss/g,function(t){switch(t){case"YYYY":return a(e.getFullYear());case"MM":return a(e.getMonth()+1);case"dd":return a(e.getDate());case"HH":return a(e.getHours());case"mm":return a(e.getMinutes());default:return a(e.getSeconds())}})};n.a={getStorage:s,setStorage:i,formatDate:r}},function(t,n,e){"use strict";e.d(n,"a",function(){return s});var a=e(37),o=e.n(a),s="http://daily.elephtribe.com/procurement",i=o.a.create({baseURL:s,transformResponse:[function(t){return JSON.parse(t)}],withCredentials:!0});n.b=i},,,,,,,,,,,,,,,,,,,,function(t,n,e){function a(t){e(121)}var o=e(4)(e(122),e(123),a,"data-v-995925b4",null);t.exports=o.exports},function(t,n,e){"use strict";var a=e(14),o=e.n(a),s=e(35),i=function(t){return new o.a(function(n,e){s.b.get("/robot/getGroupList",{params:t}).then(function(t){t.data.status?n(t.data.entry):e(t.data.message)}).catch(function(){e("网络不稳定请刷新重试！")})})},r=function(t){return new o.a(function(n,e){s.b.get("/robot/getMonitorGroupList",{params:t}).then(function(t){t.data.status?n(t.data.entry):e(t.data.message)}).catch(function(){e("网络不稳定请刷新重试！")})})},c=function(t){return new o.a(function(n,e){s.b.post("/robot/batchUpdateGroup",t).then(function(t){t.data.status?n(t.data.message):e(t.data.message)}).catch(function(){e("网络不稳定请刷新重试！")})})},u=function(t){return new o.a(function(n,e){s.b.post("robot/msgSend",t).then(function(t){t.data.status?n(t.data.message):e(t.data.message)}).catch(function(){e("网络不稳定请刷新重试！")})})},d=function(t){return new o.a(function(n,e){s.b.get("robot/getUndoTask",{params:t}).then(function(t){t.data.status?n(t.data.entry):e(t.data.message)}).catch(function(){e("网络不稳定请刷新重试！")})})},l=function(t){return new o.a(function(n,e){s.b.post("robot/updateTaskInfo",t).then(function(t){t.data.status?n(t.data.message):e(t.data.message)}).catch(function(){e("网络不稳定请刷新重试！")})})},f=function(t){return new o.a(function(n,e){s.b.get("robot/delTaskInfo",{params:t}).then(function(t){t.data.status?n(t.data.message):e(t.data.message)}).catch(function(){e("网络不稳定请刷新重试！")})})},p=function(t){return new o.a(function(n,e){s.b.get("robot/getMsgRecord",{params:t}).then(function(t){t.data.status?n(t.data.entry):e(t.data.message)}).catch(function(){e("网络不稳定请刷新重试！")})})};n.a={getGroupList:i,getMonitorGroupList:r,updateGroup:c,addMass:u,getUndoTask:d,updateTaskInfo:l,getMsgRecord:p,delTaskInfo:f}},,,,,,function(t,n,e){"use strict";var a=e(14),o=e.n(a),s=e(35),i=function(t){return new o.a(function(n,e){s.b.get("/robot/getLoginQrcode",{params:t}).then(function(t){t.data.status?n(t.data.entry):e(t.data.message)}).catch(function(){e("网络不稳定请刷新重试！")})})},r=function(t){return new o.a(function(n,e){s.b.get("/robot/isScan",{params:t}).then(function(t){t.data.status?n(t.data.message):e(t.data.status)}).catch(function(t){t.response.status&&e("timeout"),e("网络不稳定请刷新重试！")})})},c=function(t){return new o.a(function(n,e){s.b.get("/robot/isLogin",{params:t}).then(function(t){t.data.status?n(t.data.entry):e(t.data.status)}).catch(function(t){t.response.status&&e("timeout"),e("网络不稳定请刷新重试！")})})},u=function(t){return new o.a(function(n,e){s.b.get("/robot/robotInit",{params:t}).then(function(t){t.data.status?n(t.data.message):e(t.data.message)}).catch(function(){e("网络不稳定请刷新重试！")})})},d=function(t){return new o.a(function(n,e){s.b.get("/robot/getRobotList",{params:t}).then(function(t){t.data.status?n(t.data.entry):e(t.data.message)}).catch(function(){e("网络不稳定请刷新重试！")})})},l=function(t){return new o.a(function(n,e){s.b.get("/robot/logout",{params:t}).then(function(t){t.data.status?n(t.data.message):e(t.data.message)}).catch(function(){e("网络不稳定请刷新重试！")})})},f=function(t){return new o.a(function(n,e){s.b.get("/robot/delRobot",{params:t}).then(function(t){t.data.status?n(t.data.message):e(t.data.message)}).catch(function(){e("网络不稳定请刷新重试！")})})};n.a={getLoginQrcode:i,isScan:r,isLogin:c,init:u,getList:d,logout:l,delRobot:f}},,function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=e(22),o=e(66),s=e.n(o),i=e(126),r=e(147);a.a.config.productionTip=!0,new a.a({el:"#app",router:i.a,store:r.a,template:"<App/>",components:{App:s.a}})},,function(t,n,e){function a(t){e(67),e(69)}var o=e(4)(e(70),e(125),a,"data-v-7bb2d436",null);t.exports=o.exports},function(t,n){},,function(t,n){},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=e(19),o=e.n(a),s=e(20),i=e.n(s),r=e(7),c=e.n(r),u=e(11),d=e(34),l=e(106),f=e.n(l),p=e(110),m=e.n(p),g=e(114),h=e.n(g),v=e(118),b=e.n(v);n.default={name:"app",data:function(){return{time:""}},created:function(){var t=d.a.getStorage("USER_TOKEN");""!==t&&this.setUserToken(t)},components:{HeaderView:h.a,BackDrop:f.a,Loading:m.a,LoginModal:b.a},methods:c()({init:function(){var t=this;return i()(o.a.mark(function n(){return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(""===t.userToken&&"index"!==t.$route.name&&(alert("请先登录！"),t.$router.push({name:"index"})),0!==t.robotList.length&&"robotManage"!==t.$route.name){n.next=4;break}return n.next=4,t.getRobotList();case 4:"robotManage"===t.$route.name||"index"===t.$route.name||0!==t.robotList.length&&0!==t.robotList[0].status||(alert("请先绑定并激活机器人"),t.$router.push({name:"robotManage"}));case 5:case"end":return n.stop()}},n,t)}))()},go:function(t){(""===this.time||(new Date).getTime()-this.time>=1e3)&&(this.time=(new Date).getTime(),this.$router.push(t))}},Object(u.b)("Robot",["getRobotList"]),Object(u.c)("User",["setUserToken"])),watch:{$route:function(){this.init()}},computed:c()({},Object(u.d)(["backDrop","loading"]),Object(u.d)("User",["userToken"]),Object(u.d)("Robot",{robotList:"list",groupList:"groupList"}))}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,n,e){function a(t){e(107)}var o=e(4)(e(108),e(109),a,"data-v-7c52de0d",null);t.exports=o.exports},function(t,n){},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default={name:"BackDrop",props:{active:{type:Boolean,default:!1}},data:function(){return{show:!1}},methods:{toogle:function(){this.show=!this.show,this.$emit("toogle")}},watch:{active:function(){this.show=this.active}}}},function(t,n){t.exports={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("transition",{attrs:{name:"transparent"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"modal-backdrop",on:{click:t.toogle}})])},staticRenderFns:[]}},function(t,n,e){function a(t){e(111)}var o=e(4)(e(112),e(113),a,"data-v-01e3de22",null);t.exports=o.exports},function(t,n){},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default={name:"Loading",props:["active","log"],data:function(){return{show:!1}},watch:{active:function(){this.show=this.active}}}},function(t,n){t.exports={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("transition",{attrs:{name:"transparent"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"backdrop"},[e("div",{staticClass:"toast"},[e("span",{staticClass:"loading"}),t._v(" "),e("span",{staticClass:"text"},[t._v(t._s(t.log.text))])])])])},staticRenderFns:[]}},function(t,n,e){function a(t){e(115)}var o=e(4)(e(116),e(117),a,"data-v-c0fa87ac",null);t.exports=o.exports},function(t,n){},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=e(7),o=e.n(a),s=e(11);n.default={name:"Header",data:function(){return{active:!1}},created:function(){},methods:o()({openLoginModal:function(){this.openBackDrop(),this.$store.commit("openLoginModal")}},Object(s.c)(["openBackDrop"])),computed:o()({},Object(s.d)("User",["userToken"]),{isUnLogin:function(){return""===this.userToken}})}},function(t,n){t.exports={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("header",{staticClass:"sticky-top",attrs:{id:"header"}},[e("nav",{staticClass:"navbar navbar-expand-lg navbar-light"},[e("router-link",{staticClass:"navbar-brand",attrs:{to:{name:"robotManage"}}},[t._v("AIFOCUS | 客户运营中心")]),t._v(" "),e("div",{staticClass:"collapse navbar-collapse"},[t.isUnLogin?e("ul",{staticClass:"navbar-nav mr-auto"},[e("li",{staticClass:"nav-item"},[e("a",{staticClass:"nav-link",on:{click:t.openLoginModal}},[t._v("登陆")])])]):t._e()])],1)])},staticRenderFns:[]}},function(t,n,e){function a(t){e(119)}var o=e(4)(e(120),e(124),a,"data-v-0850f061",null);t.exports=o.exports},function(t,n){},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=e(7),o=e.n(a),s=e(55),i=e.n(s),r=e(11);n.default={name:"UserModal",data:function(){return{userLoginFrom:{mobile:"",password:""}}},methods:o()({},Object(r.b)("User",["login"]),{submit:function(){var t=this;this.login(this.userLoginFrom).then(function(){t.close(),alert("登陆成功"),t.$router.push({name:"robotManage"})}).catch(function(t){alert(t)})},close:function(){this.closeBackDrop(),this.closeLoginModal()}},Object(r.c)(["closeBackDrop","closeLoginModal"])),components:{Modal:i.a},computed:o()({},Object(r.d)(["loginModal"]))}},function(t,n){},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default={name:"Modal",props:{active:{type:Boolean,default:!1}},data:function(){return{show:!1}},methods:{toogle:function(){this.show=!this.show,this.$emit("toogle")}},watch:{active:function(){this.show=this.active}}}},function(t,n){t.exports={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("transition",{attrs:{name:"zoom"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"modal show",attrs:{tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},on:{click:t.toogle}},[e("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[e("div",{staticClass:"modal-content",on:{click:function(t){t.stopPropagation()}}},[t._t("default")],2)])])])},staticRenderFns:[]}},function(t,n){t.exports={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("modal",{attrs:{active:t.loginModal},on:{toogle:t.close}},[e("div",{staticClass:"modal-header"},[e("h5",[t._v("登陆")])]),t._v(" "),e("div",{staticClass:"body"},[e("form",{on:{submit:function(n){n.preventDefault(),t.submit(n)}}},[e("br"),t._v(" "),e("div",{staticClass:"form-group row justify-content-center"},[e("div",{staticClass:"col-10"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.userLoginFrom.mobile,expression:"userLoginFrom.mobile"}],staticClass:"form-control rounded-0",attrs:{type:"phone","aria-describedby":"mobile",placeholder:"输入手机号"},domProps:{value:t.userLoginFrom.mobile},on:{input:function(n){n.target.composing||(t.userLoginFrom.mobile=n.target.value)}}}),t._v(" "),e("i",{staticClass:"fa fa-user-o",attrs:{"aria-hidden":"true"}})])]),t._v(" "),e("div",{staticClass:"form-group row justify-content-center"},[e("div",{staticClass:"col-10"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.userLoginFrom.password,expression:"userLoginFrom.password"}],staticClass:"form-control rounded-0",attrs:{type:"password","aria-describedby":"password",placeholder:"输入密码"},domProps:{value:t.userLoginFrom.password},on:{input:function(n){n.target.composing||(t.userLoginFrom.password=n.target.value)}}}),t._v(" "),e("i",{staticClass:"fa fa-lock",attrs:{"aria-hidden":"true"}})])]),t._v(" "),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v("登陆")])])])])])},staticRenderFns:[]}},function(t,n){t.exports={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{attrs:{id:"app"}},[e("header-view"),t._v(" "),e("section",["index"!==t.$route.name?e("ul",{staticClass:"list-group left-nav"},[e("li",{staticClass:"list-group-item top-nav"},[e("h5",[t._v("AI机器人")]),t._v(" "),e("ul",{staticClass:"list-group"},[e("li",{staticClass:"list-group-item",class:{active:"robotManage"===t.$route.name},on:{click:function(n){t.go({name:"robotManage"})}}},[t._v("机器人管理")]),t._v(" "),e("li",{staticClass:"list-group-item",class:{active:/\/groupManage/.test(t.$route.path)},on:{click:function(n){t.go({name:"groupManage"})}}},[t._v("群管理  ")]),t._v(" "),e("li",{staticClass:"list-group-item",class:{active:/\/massTexting/.test(t.$route.path)},on:{click:function(n){t.go({name:"massTexting"})}}},[t._v("消息群发 ")])])]),t._v(" "),e("li",{staticClass:"list-group-item",staticStyle:{"flex-direction":"column"}},[e("h5",[t._v("群操作")]),t._v(" "),e("ul",{staticClass:"list-group"},t._l(t.robotList,function(n){return e("li",{key:n.id,staticClass:"list-group-item bottom-nav"},[e("ul",{staticClass:"list-group"},t._l(t.groupList[n.id],function(n){return e("li",{key:n.id,staticClass:"list-group-item",class:{active:t.$route.params.id===n.id},on:{click:function(e){t.go({name:"operate",params:{id:n.id,nickName:n.nickname}})}}},[t._v(t._s(n.nickname))])}))])}))])]):t._e(),t._v(" "),e("main",[e("transition",{attrs:{name:"transparent"}},[e("router-view")],1)],1)]),t._v(" "),e("login-modal"),t._v(" "),e("back-drop",{attrs:{active:t.backDrop}}),t._v(" "),e("loading",{attrs:{active:t.loading.active,log:{type:t.loading.type,text:t.loading.text}}})],1)},staticRenderFns:[]}},function(t,n,e){"use strict";var a=e(22),o=e(127);a.a.use(o.a);var s=new o.a({routes:[{path:"/",name:"index",component:function(){return e.e(6).then(e.bind(null,156))}},{path:"/robotManage",name:"robotManage",component:function(){return e.e(1).then(e.bind(null,157))}},{path:"/groupManage",name:"groupManage",component:function(){return e.e(9).then(e.bind(null,158))},children:[{path:":id",name:"groupList",component:function(){return e.e(2).then(e.bind(null,159))}}]},{path:"/massTexting",name:"massTexting",component:function(){return e.e(8).then(e.bind(null,160))},children:[{path:"addMass",name:"addMass",component:function(){return e.e(0).then(e.bind(null,161))}},{path:"timedMass",name:"timedMass",component:function(){return e.e(3).then(e.bind(null,162))}},{path:"massRecord",name:"massRecord",component:function(){return e.e(4).then(e.bind(null,163))}}]},{path:"/operate/:id",name:"operate",component:function(){return e.e(7).then(e.bind(null,164))},children:[{path:"redPacket",name:"redPacket",component:function(){return e.e(5).then(e.bind(null,165))}}]}]});n.a=s},,,,,,,,,,,,,,,,,,,,,function(t,n,e){"use strict";var a=e(22),o=e(11),s=e(148),i=e(149),r=(e.n(i),e(150)),c=e(151),u=e(153);a.a.use(o.a),n.a=new o.a.Store({strict:!0,state:{backDrop:!1,loginModal:!1,loading:{active:!1,type:"loading",text:""}},modules:{User:c.a,Robot:u.a},actions:s,getters:i,mutations:r})},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),e.d(n,"loaded",function(){return a});var a=function(t,n){var e=t.commit;setTimeout(function(){e("loaded")},n)}},function(t,n){},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),e.d(n,"openBackDrop",function(){return s}),e.d(n,"closeBackDrop",function(){return i}),e.d(n,"openLoginModal",function(){return r}),e.d(n,"closeLoginModal",function(){return c}),e.d(n,"loading",function(){return u}),e.d(n,"loaded",function(){return d});var a=e(7),o=e.n(a),s=function(t){t.backDrop=!0},i=function(t){t.backDrop=!1},r=function(t){t.loginModal=!0},c=function(t){t.loginModal=!1},u=function(t,n){t.loading=o()({},t.loading,n,{active:!0})},d=function(t){t.loading=o()({},t.loading,{active:!1})}},function(t,n,e){"use strict";var a=e(19),o=e.n(a),s=e(20),i=e.n(s),r=e(152),c=e(34),u={userToken:"",uuid:""},d={},l={login:function(t,n){var e=this,a=t.commit;return i()(o.a.mark(function t(){var s,i;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.a.login(n);case 2:s=t.sent,i=s.userInfo.userId,a("setUserToken",i),c.a.setStorage("USER_TOKEN",i);case 6:case"end":return t.stop()}},t,e)}))()}},f={setUserToken:function(t,n){t.userToken=n},setUUId:function(t,n){t.uuid=n}};n.a={namespaced:!0,state:u,getters:d,actions:l,mutations:f}},function(t,n,e){"use strict";var a=e(7),o=e.n(a),s=e(14),i=e.n(s),r=e(37),c=e.n(r),u=function(t){return new i.a(function(n,e){c.a.post("http://daily.elephtribe.com/member/login.do",o()({},t,{role:"crm"}),{withCredentials:!0}).then(function(t){t.data.status?n(t.data.entry):e(t.data.message)}).catch(function(){e("网络不稳定请刷新重试！")})})};n.a={login:u}},function(t,n,e){"use strict";var a=e(19),o=e.n(a),s=e(20),i=e.n(s),r=e(62),c=e(56),u={list:[],groupList:{}},d={},l={getRobotList:function(t){var n=this,e=t.commit,a=t.dispatch,s=t.rootState;return i()(o.a.mark(function t(){var i;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.a.getList({userId:s.User.userToken});case 2:i=t.sent,e("setRobotList",i),a("getGroupList");case 5:case"end":return t.stop()}},t,n)}))()},getGroupList:function(t){var n=this,e=t.commit,a=t.state,s={};a.list.forEach(function(){var t=i()(o.a.mark(function t(a){var i;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.getMonitorGroupList({robotId:a.id});case 2:i=t.sent,s[a.id]=i,e("addGroupList",s);case 5:case"end":return t.stop()}},t,n)}));return function(n){return t.apply(this,arguments)}}())}},f={setRobotList:function(t,n){t.list=n},addGroupList:function(t,n){t.groupList=n}};n.a={namespaced:!0,state:u,getters:d,actions:l,mutations:f}}]),[64]);
//# sourceMappingURL=app.e7a4a1a8dafbcaa74137.js.map