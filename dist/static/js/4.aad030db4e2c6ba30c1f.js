webpackJsonp([4],{162:function(a,t,e){function s(a){e(206)}var o=e(7)(e(208),e(210),s,"data-v-48491b5a",null);a.exports=o.exports},206:function(a,t,e){var s=e(207);"string"==typeof s&&(s=[[a.i,s,""]]),s.locals&&(a.exports=s.locals);e(157)("02e1ed8c",s,!0)},207:function(a,t,e){t=a.exports=e(156)(!0),t.push([a.i,"#add-mass .col-form-label[data-v-48491b5a]{text-align:center}#add-mass footer[data-v-48491b5a]{margin-top:32px;margin-top:2rem;padding-bottom:32px;padding-bottom:2rem;margin-right:-15px;margin-left:-15px;border-top:1px solid #b9b9b9}#add-mass footer .save[data-v-48491b5a]{margin-top:24px;margin-top:1.5rem;margin-right:auto;margin-left:auto;display:block;padding:12.8px 64px;padding:.8rem 4rem;background-color:#555;color:#fff;border-radius:0}.group .form-check-label[data-v-48491b5a]:first-child{border-bottom:1px solid #eaeaea;padding-bottom:8px;padding-bottom:.5rem;margin-bottom:8px;margin-bottom:.5rem}.group .form-check-label[data-v-48491b5a]{display:block}","",{version:3,sources:["/Users/hxf/www/weRobot/src/page/MassTexting/addMass.vue"],names:[],mappings:"AAAA,2CAA2C,iBAAiB,CAAC,kCAAkC,gBAAgB,gBAAgB,oBAAoB,oBAAoB,mBAAmB,kBAAkB,4BAA4B,CAAC,wCAAwC,gBAAgB,kBAAkB,kBAAkB,iBAAiB,cAAc,oBAAoB,mBAAmB,sBAAsB,WAAW,eAAe,CAAC,sDAAsD,gCAAgC,mBAAmB,qBAAqB,kBAAkB,mBAAmB,CAAC,0CAA0C,aAAa,CAAC",file:"addMass.vue",sourcesContent:["#add-mass .col-form-label[data-v-48491b5a]{text-align:center}#add-mass footer[data-v-48491b5a]{margin-top:32px;margin-top:2rem;padding-bottom:32px;padding-bottom:2rem;margin-right:-15px;margin-left:-15px;border-top:1px solid #b9b9b9}#add-mass footer .save[data-v-48491b5a]{margin-top:24px;margin-top:1.5rem;margin-right:auto;margin-left:auto;display:block;padding:12.8px 64px;padding:.8rem 4rem;background-color:#555;color:#fff;border-radius:0}.group .form-check-label[data-v-48491b5a]:first-child{border-bottom:1px solid #eaeaea;padding-bottom:8px;padding-bottom:.5rem;margin-bottom:8px;margin-bottom:.5rem}.group .form-check-label[data-v-48491b5a]{display:block}"],sourceRoot:""}])},208:function(a,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=e(10),o=e.n(s),i=e(21),r=e.n(i),d=e(22),n=e.n(d),l=e(11),c=e(209),m=e(56);t.default={name:"AddMNass",created:function(){},data:function(){return{addMassData:{uin:"",text:"",srcUrl:"",toGroupId:[],isFixedTimeSend:!1,fixedTime:""},date:"",time:"",selectAll:!1}},methods:{uploadImg:function(a){var t=this;return n()(r.a.mark(function e(){var s,o;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:s=a.target.files[0],o=new FormData,o.append("fileUpload",s,s.name),c.a.uploadImg(o).then(function(a){t.addMassData.srcUrl="http://cdn.elephtribe.com/"+a.data.entry[0]}).catch(function(a){console.log(a)});case 4:case"end":return e.stop()}},e,t)}))()},addMass:function(){var a=this;return n()(r.a.mark(function t(){var e;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,m.a.addMass(a.addMassData);case 3:e=t.sent,alert("新增成功"),console.log(e),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}},t,a,[[0,8]])}))()}},components:{},watch:{date:function(){this.addMassData.fixedTime=this.date+" "+this.time+":00"},time:function(){this.addMassData.fixedTime=this.date+" "+this.time+":00"},selectAll:function(){this.selectAll?this.addMassData.toGroupId=this.groupList[this.seleteId].map(function(a){return a.id}):this.addMassData.toGroupId=[]}},computed:o()({},Object(l.d)("Robot",{robotList:"list",groupList:"groupList"}),{seleteId:function(){var a=this,t=-1;return this.robotList.forEach(function(e){return e.uin===a.addMassData.uin&&(t=e.id,!0)}),t}})}},209:function(a,t,e){"use strict";var s=e(37),o=e.n(s),i=function(a){var t={headers:{"Content-Type":"multipart/form-data"},withCredentials:!0};return o.a.post("http://daily.elephtribe.com/message/oss/imgUpload",a,t)};t.a={uploadImg:i}},210:function(a,t){a.exports={render:function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("form",{attrs:{id:"add-mass"},on:{submit:function(t){t.preventDefault(),a.addMass(t)}}},[e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"texting"}},[a._v("选择机器人")]),a._v(" "),e("div",{staticClass:"col-sm-8"},a._l(a.robotList,function(t){return e("div",{key:t.id,staticClass:"form-check form-check-inline"},[e("label",{staticClass:"form-check-label"},[e("input",{directives:[{name:"model",rawName:"v-model",value:a.addMassData.uin,expression:"addMassData.uin"}],staticClass:"form-check-input",attrs:{type:"radio",name:"robot"},domProps:{value:t.uin,checked:a._q(a.addMassData.uin,t.uin)},on:{__c:function(e){a.addMassData.uin=t.uin}}}),a._v(a._s(t.nickname)+"\n                ")])])}))]),a._v(" "),e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"texting"}},[a._v("群发文字 ")]),a._v(" "),e("div",{staticClass:"col-sm-8"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:a.addMassData.text,expression:"addMassData.text"}],staticClass:"form-control",attrs:{id:"texting",rows:"3"},domProps:{value:a.addMassData.text},on:{input:function(t){t.target.composing||(a.addMassData.text=t.target.value)}}})])]),a._v(" "),e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"picture"}},[a._v("群发图片 ")]),a._v(" "),e("div",{staticClass:"col-sm-8"},[e("label",{staticClass:"custom-file"},[e("input",{staticClass:"custom-file-input",attrs:{type:"file"},on:{change:a.uploadImg}}),a._v(" "),e("span",{staticClass:"custom-file-control"},[a._v(a._s(a.addMassData.srcUrl?a.addMassData.srcUrl:"选择图片"))])])])]),a._v(" "),e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-sm-2 col-form-label"},[a._v("发送群  ")]),a._v(" "),e("div",{staticClass:"col-sm-4 group"},[e("label",{staticClass:"form-check-label"},[e("input",{directives:[{name:"model",rawName:"v-model",value:a.selectAll,expression:"selectAll"}],staticClass:"form-check-input",attrs:{type:"checkbox"},domProps:{value:!0,checked:Array.isArray(a.selectAll)?a._i(a.selectAll,!0)>-1:a.selectAll},on:{__c:function(t){var e=a.selectAll,s=t.target,o=!!s.checked;if(Array.isArray(e)){var i=a._i(e,!0);s.checked?i<0&&(a.selectAll=e.concat(!0)):i>-1&&(a.selectAll=e.slice(0,i).concat(e.slice(i+1)))}else a.selectAll=o}}}),a._v("全选\n            ")]),a._v(" "),a._l(a.groupList[a.seleteId],function(t){return e("label",{staticClass:"form-check-label"},[e("input",{directives:[{name:"model",rawName:"v-model",value:a.addMassData.toGroupId,expression:"addMassData.toGroupId"}],staticClass:"form-check-input",attrs:{type:"checkbox"},domProps:{value:t.id,checked:Array.isArray(a.addMassData.toGroupId)?a._i(a.addMassData.toGroupId,t.id)>-1:a.addMassData.toGroupId},on:{__c:function(e){var s=a.addMassData.toGroupId,o=e.target,i=!!o.checked;if(Array.isArray(s)){var r=t.id,d=a._i(s,r);o.checked?d<0&&(a.addMassData.toGroupId=s.concat(r)):d>-1&&(a.addMassData.toGroupId=s.slice(0,d).concat(s.slice(d+1)))}else a.addMassData.toGroupId=i}}}),a._v(a._s(t.nickname)+"\n            ")])})],2)]),a._v(" "),e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"texting"}},[a._v("发送时间 ")]),a._v(" "),e("div",{staticClass:"col-sm-8"},[e("div",{staticClass:"form-check form-check-inline"},[e("label",{staticClass:"form-check-label"},[e("input",{directives:[{name:"model",rawName:"v-model",value:a.addMassData.isFixedTimeSend,expression:"addMassData.isFixedTimeSend"}],staticClass:"form-check-input",attrs:{type:"radio",name:"isFixedTimeSend"},domProps:{value:!1,checked:a._q(a.addMassData.isFixedTimeSend,!1)},on:{__c:function(t){a.addMassData.isFixedTimeSend=!1}}}),a._v(" 立即发送\n                ")])]),a._v(" "),e("div",{staticClass:"form-check form-check-inline"},[e("label",{staticClass:"form-check-label"},[e("input",{directives:[{name:"model",rawName:"v-model",value:a.addMassData.isFixedTimeSend,expression:"addMassData.isFixedTimeSend"}],staticClass:"form-check-input",attrs:{type:"radio",name:"isFixedTimeSend"},domProps:{value:!0,checked:a._q(a.addMassData.isFixedTimeSend,!0)},on:{__c:function(t){a.addMassData.isFixedTimeSend=!0}}}),a._v(" 定时发送\n                ")])])])]),a._v(" "),e("div",{staticClass:"form-group row"},[e("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"texting"}},[a._v("定时设置 ")]),a._v(" "),e("div",{staticClass:"col-sm-8"},[e("input",{directives:[{name:"model",rawName:"v-model",value:a.date,expression:"date"}],attrs:{type:"date",name:"date",disabled:!a.addMassData.isFixedTimeSend},domProps:{value:a.date},on:{input:function(t){t.target.composing||(a.date=t.target.value)}}}),a._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:a.time,expression:"time"}],attrs:{type:"time",name:"time",disabled:!a.addMassData.isFixedTimeSend},domProps:{value:a.time},on:{input:function(t){t.target.composing||(a.time=t.target.value)}}})])]),a._v(" "),a._m(0)])},staticRenderFns:[function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("footer",[e("button",{staticClass:"save",attrs:{type:"submit"}},[a._v("保存")])])}]}}});
//# sourceMappingURL=4.aad030db4e2c6ba30c1f.js.map