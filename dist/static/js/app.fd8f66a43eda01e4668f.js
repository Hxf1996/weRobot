webpackJsonp([8],{112:function(t,n,e){function a(t){e(113)}var o=e(7)(e(114),e(115),a,"data-v-7c52de0d",null);t.exports=o.exports},113:function(t,n){},114:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default={name:"BackDrop",props:{active:{type:Boolean,default:!1}},data:function(){return{show:!1}},methods:{toogle:function(){this.show=!this.show,this.$emit("toogle")}},watch:{active:function(){this.show=this.active}}}},115:function(t,n){t.exports={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("transition",{attrs:{name:"transparent"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"modal-backdrop",on:{click:t.toogle}})])},staticRenderFns:[]}},116:function(t,n,e){function a(t){e(117)}var o=e(7)(e(118),e(119),a,"data-v-c0fa87ac",null);t.exports=o.exports},117:function(t,n){},118:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=e(10),o=e.n(a),s=e(11);n.default={name:"Header",data:function(){return{active:!1}},created:function(){},methods:o()({openLoginModal:function(){this.openBackDrop(),this.$store.commit("openLoginModal")}},Object(s.c)(["openBackDrop"])),computed:o()({},Object(s.d)("User",["userToken"]),{isUnLogin:function(){return""===this.userToken}})}},119:function(t,n){t.exports={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("header",{staticClass:"sticky-top",attrs:{id:"header"}},[e("nav",{staticClass:"navbar navbar-expand-lg navbar-light"},[e("router-link",{staticClass:"navbar-brand",attrs:{to:{name:"robotManage"}}},[t._v("AIFOCUS | 客户运营中心")]),t._v(" "),e("div",{staticClass:"collapse navbar-collapse"},[t.isUnLogin?e("ul",{staticClass:"navbar-nav mr-auto"},[e("li",{staticClass:"nav-item"},[e("a",{staticClass:"nav-link",on:{click:t.openLoginModal}},[t._v("登陆")])])]):t._e()])],1)])},staticRenderFns:[]}},120:function(t,n,e){function a(t){e(121)}var o=e(7)(e(122),e(126),a,"data-v-0850f061",null);t.exports=o.exports},121:function(t,n){},122:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=e(10),o=e.n(a),s=e(57),r=e.n(s),i=e(11);n.default={name:"UserModal",data:function(){return{userLoginFrom:{mobile:"",password:""}}},methods:o()({},Object(i.b)("User",["login"]),{submit:function(){var t=this;this.login(this.userLoginFrom).then(function(){t.close(),alert("登陆成功"),t.$router.push({name:"robotManage"})}).catch(function(t){alert(t)})},close:function(){this.closeBackDrop(),this.closeLoginModal()}},Object(i.c)(["closeBackDrop","closeLoginModal"])),components:{Modal:r.a},computed:o()({},Object(i.d)(["loginModal"]))}},123:function(t,n){},124:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default={name:"Modal",props:{active:{type:Boolean,default:!1}},data:function(){return{show:!1}},methods:{toogle:function(){this.show=!this.show,this.$emit("toogle")}},watch:{active:function(){this.show=this.active}}}},125:function(t,n){t.exports={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("transition",{attrs:{name:"zoom"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"modal show",attrs:{tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},on:{click:t.toogle}},[e("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[e("div",{staticClass:"modal-content",on:{click:function(t){t.stopPropagation()}}},[t._t("default")],2)])])])},staticRenderFns:[]}},126:function(t,n){t.exports={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("modal",{attrs:{active:t.loginModal},on:{toogle:t.close}},[e("div",{staticClass:"modal-header"},[e("h5",[t._v("登陆")])]),t._v(" "),e("div",{staticClass:"body"},[e("form",{on:{submit:function(n){n.preventDefault(),t.submit(n)}}},[e("br"),t._v(" "),e("div",{staticClass:"form-group row justify-content-center"},[e("div",{staticClass:"col-10"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.userLoginFrom.mobile,expression:"userLoginFrom.mobile"}],staticClass:"form-control rounded-0",attrs:{type:"phone","aria-describedby":"mobile",placeholder:"输入手机号"},domProps:{value:t.userLoginFrom.mobile},on:{input:function(n){n.target.composing||(t.userLoginFrom.mobile=n.target.value)}}}),t._v(" "),e("i",{staticClass:"fa fa-user-o",attrs:{"aria-hidden":"true"}})])]),t._v(" "),e("div",{staticClass:"form-group row justify-content-center"},[e("div",{staticClass:"col-10"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.userLoginFrom.password,expression:"userLoginFrom.password"}],staticClass:"form-control rounded-0",attrs:{type:"password","aria-describedby":"password",placeholder:"输入密码"},domProps:{value:t.userLoginFrom.password},on:{input:function(n){n.target.composing||(t.userLoginFrom.password=n.target.value)}}}),t._v(" "),e("i",{staticClass:"fa fa-lock",attrs:{"aria-hidden":"true"}})])]),t._v(" "),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v("登陆")])])])])])},staticRenderFns:[]}},127:function(t,n){t.exports={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{attrs:{id:"app"}},[e("header-view"),t._v(" "),e("section",[e("ul",{staticClass:"list-group"},[e("li",{staticClass:"list-group-item"},[e("h5",[t._v("AI机器人")]),t._v(" "),e("ul",{staticClass:"list-group"},[e("li",{staticClass:"list-group-item"},[e("router-link",{attrs:{to:{name:"robotManage"}}},[t._v("机器人管理")])],1),t._v(" "),e("li",{staticClass:"list-group-item"},[e("router-link",{attrs:{to:{name:"groupManage"}}},[t._v("群管理")])],1),t._v(" "),e("li",{staticClass:"list-group-item"},[e("router-link",{attrs:{to:{name:"massTexting"}}},[t._v("消息群发")])],1)])]),t._v(" "),e("li",{staticClass:"list-group-item"},[e("h5",[t._v("群操作")]),t._v(" "),e("ul",{staticClass:"list-group"},t._l(t.robotList,function(n){return e("li",{key:n.id,staticClass:"list-group-item"},[e("h6",[t._v(t._s(n.nickname))]),t._v(" "),e("ul",{staticClass:"list-group"},t._l(t.groupList[n.id],function(n){return e("li",{key:n.id,staticClass:"list-group-item"},[t._v(t._s(n.nickname))])}))])}))])]),t._v(" "),e("main",[e("router-view")],1)]),t._v(" "),e("login-modal"),t._v(" "),e("back-drop",{ref:"backDrop",attrs:{active:t.backDrop}})],1)},staticRenderFns:[]}},128:function(t,n,e){"use strict";var a=e(23),o=e(129);a.a.use(o.a),n.a=new o.a({mode:"history",routes:[{path:"/",name:"robotManage",component:function(){return e.e(0).then(e.bind(null,158))}},{path:"/groupManage",name:"groupManage",component:function(){return e.e(6).then(e.bind(null,159))},children:[{path:":id",name:"groupList",component:function(){return e.e(1).then(e.bind(null,160))}}]},{path:"/massTexting",name:"massTexting",component:function(){return e.e(5).then(e.bind(null,161))},redirect:{name:"addMass"},children:[{path:"addMass",name:"addMass",component:function(){return e.e(4).then(e.bind(null,162))}},{path:"timedMass",name:"timedMass",component:function(){return e.e(2).then(e.bind(null,163))}},{path:"massRecord",name:"massRecord",component:function(){return e.e(3).then(e.bind(null,164))}}]}]})},149:function(t,n,e){"use strict";var a=e(23),o=e(11),s=e(150),r=(e.n(s),e(151)),i=(e.n(r),e(152)),c=e(153),u=e(155);a.a.use(o.a),n.a=new o.a.Store({strict:!0,state:{backDrop:!1,loginModal:!1},modules:{User:c.a,Robot:u.a},actions:s,getters:r,mutations:i})},150:function(t,n){},151:function(t,n){},152:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),e.d(n,"openBackDrop",function(){return a}),e.d(n,"closeBackDrop",function(){return o}),e.d(n,"openLoginModal",function(){return s}),e.d(n,"closeLoginModal",function(){return r});var a=function(t){t.backDrop=!0},o=function(t){t.backDrop=!1},s=function(t){t.loginModal=!0},r=function(t){t.loginModal=!1}},153:function(t,n,e){"use strict";var a=e(21),o=e.n(a),s=e(22),r=e.n(s),i=e(154),c=e(35),u={userToken:"",uuid:""},d={},l={login:function(t,n){var e=this,a=t.commit;return r()(o.a.mark(function t(){var s,r;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.login(n);case 2:s=t.sent,r=s.userInfo.userId,a("setUserToken",r),c.a.setStorage("USER_TOKEN",r);case 6:case"end":return t.stop()}},t,e)}))()}},f={setUserToken:function(t,n){t.userToken=n},setUUId:function(t,n){t.uuid=n}};n.a={namespaced:!0,state:u,getters:d,actions:l,mutations:f}},154:function(t,n,e){"use strict";var a=e(10),o=e.n(a),s=e(20),r=e.n(s),i=e(37),c=e.n(i),u=function(t){return new r.a(function(n,e){c.a.post("http://daily.elephtribe.com/member/login.do",o()({},t,{role:"crm"}),{withCredentials:!0}).then(function(t){t.data.status?n(t.data.entry):e(t.data.message)}).catch(function(){e("网络不稳定请刷新重试！")})})};n.a={login:u}},155:function(t,n,e){"use strict";var a=e(21),o=e.n(a),s=e(22),r=e.n(s),i=e(63),c=e(56),u={list:[],groupList:{}},d={},l={getRobotList:function(t){var n=this,e=t.commit,a=t.dispatch,s=t.rootState;return r()(o.a.mark(function t(){var r;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.getList({userId:s.User.userToken});case 2:r=t.sent,e("setRobotList",r),a("getGroupList");case 5:case"end":return t.stop()}},t,n)}))()},getGroupList:function(t){var n=this,e=t.commit,a=t.state,s={};a.list.forEach(function(){var t=r()(o.a.mark(function t(a){var r;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.getMonitorGroupList({robotId:a.id});case 2:r=t.sent,s[a.id]=r,e("addGroupList",s);case 5:case"end":return t.stop()}},t,n)}));return function(n){return t.apply(this,arguments)}}())}},f={setRobotList:function(t,n){t.list=n},addGroupList:function(t,n){t.groupList=n}};n.a={namespaced:!0,state:u,getters:d,actions:l,mutations:f}},35:function(t,n,e){"use strict";var a=e(110),o=e.n(a),s=function(t){return JSON.parse(sessionStorage.getItem(t))||{}},r=function(t,n){sessionStorage.setItem(t,o()(n))},i=function(t,n){if(!t)return"";var e=new Date(t),a=function(t){return t.toString().padStart(2,"0")};return n.replace(/YYYY|MM|dd|HH|mm|ss/g,function(t){switch(t){case"YYYY":return a(e.getFullYear());case"MM":return a(e.getMonth()+1);case"dd":return a(e.getDate());case"HH":return a(e.getHours());case"mm":return a(e.getMinutes());default:return a(e.getSeconds())}})};n.a={getStorage:s,setStorage:r,formatDate:i}},36:function(t,n,e){"use strict";e.d(n,"a",function(){return s});var a=e(37),o=e.n(a),s="http://daily.elephtribe.com/procurement",r=o.a.create({baseURL:s,transformResponse:[function(t){return JSON.parse(t)}]});n.b=r},56:function(t,n,e){"use strict";var a=e(20),o=e.n(a),s=e(36),r=function(t){return new o.a(function(n,e){s.b.get("/robot/getGroupList",{params:t}).then(function(t){t.data.status?n(t.data.entry):e(t.data.message)}).catch(function(){e("网络不稳定请刷新重试！")})})},i=function(t){return new o.a(function(n,e){s.b.get("/robot/getMonitorGroupList",{params:t}).then(function(t){t.data.status?n(t.data.entry):e(t.data.message)}).catch(function(){e("网络不稳定请刷新重试！")})})},c=function(t){return new o.a(function(n,e){s.b.post("/robot/batchUpdateGroup",t).then(function(t){t.data.status?n(t.data.message):e(t.data.message)}).catch(function(){e("网络不稳定请刷新重试！")})})},u=function(t){return new o.a(function(n,e){s.b.post("robot/msgSend",t).then(function(t){t.data.status?n(t.data.message):e(t.data.message)}).catch(function(){e("网络不稳定请刷新重试！")})})},d=function(t){return new o.a(function(n,e){s.b.get("robot/getUndoTask",{params:t}).then(function(t){t.data.status?n(t.data.entry):e(t.data.message)}).catch(function(){e("网络不稳定请刷新重试！")})})},l=function(t){return new o.a(function(n,e){s.b.post("robot/updateTaskInfo",t).then(function(t){t.data.status?n(t.data.message):e(t.data.message)}).catch(function(){e("网络不稳定请刷新重试！")})})},f=function(t){return new o.a(function(n,e){s.b.get("robot/delTaskInfo",{params:t}).then(function(t){t.data.status?n(t.data.message):e(t.data.message)}).catch(function(){e("网络不稳定请刷新重试！")})})},p=function(t){return new o.a(function(n,e){s.b.get("robot/getMsgRecord",{params:t}).then(function(t){t.data.status?n(t.data.entry):e(t.data.message)}).catch(function(){e("网络不稳定请刷新重试！")})})};n.a={getGroupList:r,getMonitorGroupList:i,updateGroup:c,addMass:u,getUndoTask:d,updateTaskInfo:l,getMsgRecord:p,delTaskInfo:f}},57:function(t,n,e){function a(t){e(123)}var o=e(7)(e(124),e(125),a,"data-v-995925b4",null);t.exports=o.exports},63:function(t,n,e){"use strict";var a=e(20),o=e.n(a),s=e(36),r=function(t){return new o.a(function(n,e){s.b.get("/robot/getLoginQrcode",{params:t}).then(function(t){t.data.status?n(t.data.entry):e(t.data.message)}).catch(function(){e("网络不稳定请刷新重试！")})})},i=function(t){return new o.a(function(n,e){s.b.get("/robot/isScan",{params:t}).then(function(t){t.data.status?n(t.data.message):e(t.data.message)}).catch(function(){e("网络不稳定请刷新重试！")})})},c=function(t){return new o.a(function(n,e){s.b.get("/robot/isLogin",{params:t}).then(function(t){t.data.status?n(t.data.entry):e(t.data.message)}).catch(function(){e("网络不稳定请刷新重试！")})})},u=function(t){return new o.a(function(n,e){s.b.get("/robot/robotInit",{params:t}).then(function(t){t.data.status?n(t.data.message):e(t.data.message)}).catch(function(){e("网络不稳定请刷新重试！")})})},d=function(t){return new o.a(function(n,e){s.b.get("/robot/getRobotList",{params:t}).then(function(t){t.data.status?n(t.data.entry):e(t.data.message)}).catch(function(){e("网络不稳定请刷新重试！")})})},l=function(t){return new o.a(function(n,e){s.b.get("/robot/logout",{params:t}).then(function(t){t.data.status?n(t.data.message):e(t.data.message)}).catch(function(){e("网络不稳定请刷新重试！")})})};n.a={getLoginQrcode:r,isScan:i,isLogin:c,init:u,getList:d,logout:l}},64:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=e(23),o=e(66),s=e.n(o),r=e(128),i=e(149);a.a.config.productionTip=!0,new a.a({el:"#app",router:r.a,store:i.a,template:"<App/>",components:{App:s.a}})},66:function(t,n,e){function a(t){e(67),e(69)}var o=e(7)(e(70),e(127),a,"data-v-7bb2d436",null);t.exports=o.exports},67:function(t,n){},69:function(t,n){},70:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=e(10),o=e.n(a),s=e(21),r=e.n(s),i=e(83),c=e.n(i),u=e(22),d=e.n(u),l=e(11),f=e(35),p=e(112),m=e.n(p),g=e(116),h=e.n(g),v=e(120),b=e.n(v);n.default={name:"app",created:function(){var t=this;return d()(r.a.mark(function n(){var e;return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(e=f.a.getStorage("USER_TOKEN"),0===c()(e).length){n.next=5;break}return t.setUserToken(e),n.next=5,t.getRobotList();case 5:case"end":return n.stop()}},n,t)}))()},components:{HeaderView:h.a,BackDrop:m.a,LoginModal:b.a},methods:o()({},Object(l.b)("Robot",["getRobotList"]),Object(l.c)("User",["setUserToken"])),watch:{userToken:function(){var t=this;return d()(r.a.mark(function n(){return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.getRobotList();case 2:case"end":return n.stop()}},n,t)}))()}},computed:o()({},Object(l.d)(["backDrop"]),Object(l.d)("User",["userToken"]),Object(l.d)("Robot",{robotList:"list",groupList:"groupList"}))}}},[64]);
//# sourceMappingURL=app.fd8f66a43eda01e4668f.js.map