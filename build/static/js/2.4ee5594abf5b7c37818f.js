webpackJsonp([2],{171:function(t,a,e){"use strict";function s(t){e(229)}Object.defineProperty(a,"__esModule",{value:!0});var r=e(231),i=e(232),o=e(4),n=s,d=o(r.a,i.a,n,"data-v-4a1df892",null);a.default=d.exports},175:function(t,a,e){t.exports={default:e(176),__esModule:!0}},176:function(t,a,e){e(57),e(177),t.exports=e(3).Array.from},177:function(t,a,e){"use strict";var s=e(14),r=e(6),i=e(23),o=e(58),n=e(59),d=e(35),l=e(178),c=e(60);r(r.S+r.F*!e(61)(function(t){Array.from(t)}),"Array",{from:function(t){var a,e,r,A,u=i(t),f="function"==typeof this?this:Array,v=arguments.length,p=v>1?arguments[1]:void 0,g=void 0!==p,m=0,h=c(u);if(g&&(p=s(p,v>2?arguments[2]:void 0,2)),void 0==h||f==Array&&n(h))for(a=d(u.length),e=new f(a);a>m;m++)l(e,m,g?p(u[m],m):u[m]);else for(A=h.call(u),e=new f;!(r=A.next()).done;m++)l(e,m,g?o(A,p,[r.value,m],!0):r.value);return e.length=m,e}})},178:function(t,a,e){"use strict";var s=e(15),r=e(36);t.exports=function(t,a,e){a in t?s.f(t,a,r(0,e)):t[a]=e}},179:function(t,a,e){"use strict";a.__esModule=!0;var s=e(175),r=function(t){return t&&t.__esModule?t:{default:t}}(s);a.default=function(t){if(Array.isArray(t)){for(var a=0,e=Array(t.length);a<t.length;a++)e[a]=t[a];return e}return(0,r.default)(t)}},229:function(t,a,e){var s=e(230);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);e(163)("7c2c6a5a",s,!0)},230:function(t,a,e){a=t.exports=e(162)(!0),a.push([t.i,'#mass-record[data-v-4a1df892]{color:#585b60}img[data-v-4a1df892]{max-width:20px;height:auto}table th[data-v-4a1df892]{text-align:center}.msg[data-v-4a1df892]{max-width:400px;max-height:49px}.group[data-v-4a1df892],.msg[data-v-4a1df892]{overflow:hidden;text-overflow:ellipsis;position:relative}.group[data-v-4a1df892]{max-width:200px;white-space:nowrap;text-align:center}.list[data-v-4a1df892]:after{content:"\\25BC";display:block;position:absolute;right:0;top:25%}.date[data-v-4a1df892],.name[data-v-4a1df892]{text-align:center}.name[data-v-4a1df892]{min-width:100px}.statu[data-v-4a1df892]{width:170px;text-align:center}.group-list[data-v-4a1df892]{display:none;position:absolute;background-color:#fff;z-index:2;border:1px solid #eee;padding:8px 16px;padding:.5rem 1rem;margin-top:12px;max-height:300px;overflow-y:scroll}.group-list li[data-v-4a1df892]{list-style:none}.active[data-v-4a1df892]{overflow:unset;word-break:break-all}.active .group-list[data-v-4a1df892]{display:block}',"",{version:3,sources:["/Users/hxf/www/weRobot/src/page/MassTexting/massRecord.vue"],names:[],mappings:"AAAA,8BAA8B,aAAa,CAAC,qBAAqB,eAAe,WAAW,CAAC,0BAA0B,iBAAiB,CAAC,sBAAsB,gBAAgB,eAAe,CAAC,8CAA8C,gBAAgB,uBAAuB,iBAAiB,CAAC,wBAAwB,gBAAgB,mBAAmB,iBAAiB,CAAC,6BAA6B,gBAAgB,cAAc,kBAAkB,QAAQ,OAAO,CAAC,8CAA8C,iBAAiB,CAAC,uBAAuB,eAAe,CAAC,wBAAwB,YAAY,iBAAiB,CAAC,6BAA6B,aAAa,kBAAkB,sBAAsB,UAAU,sBAAsB,iBAAiB,mBAAmB,gBAAgB,iBAAiB,iBAAiB,CAAC,gCAAgC,eAAe,CAAC,yBAAyB,eAAe,oBAAoB,CAAC,qCAAqC,aAAa,CAAC",file:"massRecord.vue",sourcesContent:['#mass-record[data-v-4a1df892]{color:#585b60}img[data-v-4a1df892]{max-width:20px;height:auto}table th[data-v-4a1df892]{text-align:center}.msg[data-v-4a1df892]{max-width:400px;max-height:49px}.group[data-v-4a1df892],.msg[data-v-4a1df892]{overflow:hidden;text-overflow:ellipsis;position:relative}.group[data-v-4a1df892]{max-width:200px;white-space:nowrap;text-align:center}.list[data-v-4a1df892]:after{content:"\\25BC";display:block;position:absolute;right:0;top:25%}.date[data-v-4a1df892],.name[data-v-4a1df892]{text-align:center}.name[data-v-4a1df892]{min-width:100px}.statu[data-v-4a1df892]{width:170px;text-align:center}.group-list[data-v-4a1df892]{display:none;position:absolute;background-color:#fff;z-index:2;border:1px solid #eee;padding:8px 16px;padding:.5rem 1rem;margin-top:12px;max-height:300px;overflow-y:scroll}.group-list li[data-v-4a1df892]{list-style:none}.active[data-v-4a1df892]{overflow:unset;word-break:break-all}.active .group-list[data-v-4a1df892]{display:block}'],sourceRoot:""}])},231:function(t,a,e){"use strict";var s=e(12),r=e.n(s),i=e(179),o=e.n(i),n=e(13),d=e.n(n),l=e(5),c=e.n(l),A=e(9),u=e(24),f=e(56);a.a={name:"MassRecord",created:function(){this.init()},data:function(){return{massList:[]}},methods:c()({openGroupList:function(t){u.a.hasClass(t.target,"active")?u.a.removeClass(t.target,"active"):u.a.addClass(t.target,"active")},fullMsg:function(t){u.a.hasClass(t.target,"active")?u.a.removeClass(t.target,"active"):u.a.addClass(t.target,"active")},init:function(){var t=this;return d()(r.a.mark(function a(){var e,s,i,n;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t.loading({text:"正在加载"}),a.prev=1,a.next=4,f.a.getMsgRecord({userId:t.userToken,pageNow:1,pageSize:30});case 4:s=a.sent,i=s.records,n=s.sendStatusMap,i.forEach(function(a,e){t.robotList.forEach(function(t){t.id===a.robotId&&(i[e].robotName=t.nickname)}),i[e].sendStatusStr=n[a.sendStatus]}),t.loaded(100),i.forEach(function(t,a){i[a].toNickname=t.toNickname.split(/,/)}),(e=t.massList).push.apply(e,o()(i)),a.next=17;break;case 13:a.prev=13,a.t0=a.catch(1),t.loading({text:a.t0}),t.loaded(1500);case 17:case"end":return a.stop()}},a,t,[[1,13]])}))()}},Object(A.c)(["loading"]),Object(A.b)(["loaded"])),watch:{$route:function(){this.init()}},filters:{formatDate:function(t){return u.a.formatDate(t,"YYYY-MM-dd HH:mm:ss")}},computed:c()({},Object(A.d)("Robot",{robotList:"list"}),Object(A.d)("User",{userToken:"userToken"}))}},232:function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"mass-record"}},[e("table",{staticClass:"table table-hover"},[t._m(0),t._v(" "),e("tbody",t._l(t.massList,function(a){return e("tr",[1===a.msgType?e("td",{staticClass:"msg",class:{list:a.contentOrUrl.length>=28},on:{click:t.fullMsg}},[t._v("\n                    "+t._s(a.contentOrUrl.substring(0,28))+"\n                    "),a.contentOrUrl.length>=28?e("div",{staticClass:"group-list"},[t._v(t._s(a.contentOrUrl))]):t._e()]):t._e(),t._v(" "),2===a.msgType?e("td",{attrs:{scope:"row"}},[e("img",{attrs:{src:a.contentOrUrl,alt:"群发图片"}})]):t._e(),t._v(" "),e("td",{staticClass:"date"},[t._v(t._s(t._f("formatDate")(a.gmtExecute)))]),t._v(" "),e("td",{staticClass:"group",class:{list:a.toNickname.length>1},on:{click:t.openGroupList}},[t._v("\n                    "+t._s(a.toNickname[0])+"\n                    "),e("ul",{staticClass:"group-list"},t._l(a.toNickname,function(a,s){return e("li",{key:s},[t._v(t._s(a))])}))]),t._v(" "),e("td",{staticClass:"name"},[t._v(t._s(a.robotName))]),t._v(" "),e("td",{staticClass:"statu"},[t._v(t._s(a.sendStatusStr))])])}))])])},r=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("tr",[e("th",[t._v("群发内容")]),t._v(" "),e("th",[t._v("发送时间")]),t._v(" "),e("th",[t._v("发送群")]),t._v(" "),e("th",[t._v("机器人")]),t._v(" "),e("th",[t._v("状态")])])])}],i={render:s,staticRenderFns:r};a.a=i}});
//# sourceMappingURL=2.4ee5594abf5b7c37818f.js.map