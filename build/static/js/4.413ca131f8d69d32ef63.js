webpackJsonp([4],{163:function(t,e,a){"use strict";function o(t){a(192)}Object.defineProperty(e,"__esModule",{value:!0});var r=a(194),i=a(200),s=a(4),n=o,c=s(r.a,i.a,n,"data-v-4e89c22e",null);e.default=c.exports},192:function(t,e,a){var o=a(193);"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);a(159)("5f9b7d3f",o,!0)},193:function(t,e,a){e=t.exports=a(158)(!0),e.push([t.i,"#group-list[data-v-4e89c22e]{padding:32px;padding:2rem}.group[data-v-4e89c22e]{background-color:#fbfbfb;border:1.8px solid #e0e0e0;padding:8px;padding:.5rem;margin-right:19.2px;margin-right:1.2rem;margin-bottom:19.2px;margin-bottom:1.2rem;float:left;list-style:none}.group>span[data-v-4e89c22e]{margin-right:32px;margin-right:2rem;color:#585b60}","",{version:3,sources:["/Users/hxf/www/weRobot/src/page/GroupList.vue"],names:[],mappings:"AAAA,6BAA6B,aAAa,YAAY,CAAC,wBAAwB,yBAAyB,2BAA2B,YAAY,cAAc,oBAAoB,oBAAoB,qBAAqB,qBAAqB,WAAW,eAAe,CAAC,6BAA6B,kBAAkB,kBAAkB,aAAa,CAAC",file:"GroupList.vue",sourcesContent:["#group-list[data-v-4e89c22e]{padding:32px;padding:2rem}.group[data-v-4e89c22e]{background-color:#fbfbfb;border:1.8px solid #e0e0e0;padding:8px;padding:.5rem;margin-right:19.2px;margin-right:1.2rem;margin-bottom:19.2px;margin-bottom:1.2rem;float:left;list-style:none}.group>span[data-v-4e89c22e]{margin-right:32px;margin-right:2rem;color:#585b60}"],sourceRoot:""}])},194:function(t,e,a){"use strict";var o=a(12),r=a.n(o),i=a(13),s=a.n(i),n=a(5),c=a.n(n),d=a(8),l=a(195),p=a(62),u=a(56);e.a={name:"GroupList",data:function(){return{deteleGroupModal:!1,addGroupModal:!1,deleteData:{name:""}}},methods:c()({openDeleteGroup:function(t,e){this.deleteData={id:t,name:e},this.deteleGroupModal=!0},closeDeleteGroup:function(){this.deteleGroupModal=!1},deleteGroup:function(t){var e=this;return s()(r.a.mark(function a(){return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e.loading({text:"正在删除"}),a.prev=1,a.next=4,u.a.updateGroup([{id:t,isMonitor:!1,isAtReply:!1}]);case 4:return a.next=6,e.getGroupList();case 6:e.loaded(100),e.closeDeleteGroup(),a.next=14;break;case 10:a.prev=10,a.t0=a.catch(1),e.loading({text:a.t0}),e.loaded(1500);case 14:case"end":return a.stop()}},a,e,[[1,10]])}))()},openAddGroupModal:function(){this.addGroupModal=!0},closeAddGroupModal:function(){this.addGroupModal=!1}},Object(d.c)(["closeBackDrop","loading"]),Object(d.b)(["loaded"]),Object(d.b)("Robot",["getGroupList"])),components:{AddGroupModal:l.a,MessageBox:p.a},computed:c()({},Object(d.d)("Robot",{robotList:"list",groupList:"groupList"}))}},195:function(t,e,a){"use strict";function o(t){a(196)}var r=a(198),i=a(199),s=a(4),n=o,c=s(r.a,i.a,n,"data-v-3783ae3c",null);e.a=c.exports},196:function(t,e,a){var o=a(197);"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);a(159)("15f63c0c",o,!0)},197:function(t,e,a){e=t.exports=a(158)(!0),e.push([t.i,".body[data-v-3783ae3c],h6[data-v-3783ae3c]{color:#585b60}.body[data-v-3783ae3c]{max-height:400px;overflow-x:scroll;margin-left:32px;margin-left:2rem;padding-top:12.8px;padding-top:.8rem;padding-bottom:12.8px;padding-bottom:.8rem}.modal-footer .form-check[data-v-3783ae3c]{width:60px;margin-left:17px;margin-top:7px;color:#585b60}.modal-footer .form-check input[data-v-3783ae3c]{margin-right:5px}.modal-footer .refresh[data-v-3783ae3c]{width:80px;color:#585b60;cursor:pointer}.modal-footer .select[data-v-3783ae3c]{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;text-align:right;color:#585b60;padding-right:16px;padding-right:1rem}","",{version:3,sources:["/Users/hxf/www/weRobot/src/components/AddGroupModal.vue"],names:[],mappings:"AAAA,2CAA2C,aAAa,CAAC,uBAAuB,iBAAiB,kBAAkB,iBAAiB,iBAAiB,mBAAmB,kBAAkB,sBAAsB,oBAAoB,CAAC,2CAA2C,WAAW,iBAAiB,eAAe,aAAa,CAAC,iDAAiD,gBAAgB,CAAC,wCAAwC,WAAW,cAAc,cAAc,CAAC,uCAAuC,mBAAmB,oBAAoB,YAAY,iBAAiB,cAAc,mBAAmB,kBAAkB,CAAC",file:"AddGroupModal.vue",sourcesContent:[".body[data-v-3783ae3c],h6[data-v-3783ae3c]{color:#585b60}.body[data-v-3783ae3c]{max-height:400px;overflow-x:scroll;margin-left:32px;margin-left:2rem;padding-top:12.8px;padding-top:.8rem;padding-bottom:12.8px;padding-bottom:.8rem}.modal-footer .form-check[data-v-3783ae3c]{width:60px;margin-left:17px;margin-top:7px;color:#585b60}.modal-footer .form-check input[data-v-3783ae3c]{margin-right:5px}.modal-footer .refresh[data-v-3783ae3c]{width:80px;color:#585b60;cursor:pointer}.modal-footer .select[data-v-3783ae3c]{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;text-align:right;color:#585b60;padding-right:16px;padding-right:1rem}"],sourceRoot:""}])},198:function(t,e,a){"use strict";var o=a(12),r=a.n(o),i=a(13),s=a.n(i),n=a(5),c=a.n(n),d=a(8),l=a(36),p=a(56);e.a={name:"AddGroupModal",props:["active"],data:function(){return{show:!1,groupList:[],addGroupData:[],selectAll:!1}},methods:c()({submit:function(){var t=this;return s()(r.a.mark(function e(){var a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading({text:"正在新增"}),e.prev=1,e.next=4,p.a.updateGroup(t.addGroupData.map(function(t){return{id:t,isMonitor:!0,isAtReply:!1}}));case 4:a=e.sent,t.loading({text:a}),t.loaded(1500),t.$emit("successAddGroup"),t.close(),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),t.loading({text:e.t0}),t.loaded(1500);case 15:case"end":return e.stop()}},e,t,[[1,11]])}))()},init:function(){this.addGroupData=[],this.selectAll=!1},open:function(){this.openBackDrop(),this.show=!0,this.getGroupList()},close:function(){this.init(),this.closeBackDrop(),this.show=!1,this.$emit("close")},getGroupList:function(){var t=this;return s()(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading({text:"获取所有分组"}),e.prev=1,e.next=4,p.a.getGroupList({robotId:t.$route.params.id});case 4:t.groupList=e.sent,t.loaded(100),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),t.loading({text:e.t0}),t.loaded(1500);case 12:case"end":return e.stop()}},e,t,[[1,8]])}))()},toogleAll:function(){var t=this;this.addGroupData=[],this.selectAll&&this.unMonitorGroupList.forEach(function(e){t.addGroupData.push(e.id)})}},Object(d.c)(["closeBackDrop","openBackDrop","loading"]),Object(d.b)(["loaded"])),watch:{active:function(t){t&&this.open()}},components:{Modal:l.a},computed:{unMonitorGroupList:function(){return null===this.groupList?[]:this.groupList.filter(function(t){return!t.monitor})}}}},199:function(t,e,a){"use strict";var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("modal",{attrs:{active:t.show},on:{toogle:t.close}},[a("div",{staticClass:"modal-header"},[a("h6",{staticClass:"modal-title"},[t._v("请勾选需要添加的群组")]),t._v(" "),a("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:t.close}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),t._v(" "),a("form",{staticClass:"body"},t._l(t.unMonitorGroupList,function(e){return a("div",{key:e.id,staticClass:"form-check"},[a("label",{staticClass:"form-check-label"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.addGroupData,expression:"addGroupData"}],staticClass:"form-check-input",attrs:{type:"checkbox"},domProps:{value:e.id,checked:Array.isArray(t.addGroupData)?t._i(t.addGroupData,e.id)>-1:t.addGroupData},on:{__c:function(a){var o=t.addGroupData,r=a.target,i=!!r.checked;if(Array.isArray(o)){var s=e.id,n=t._i(o,s);r.checked?n<0&&(t.addGroupData=o.concat([s])):n>-1&&(t.addGroupData=o.slice(0,n).concat(o.slice(n+1)))}else t.addGroupData=i}}}),t._v("\n                "+t._s(e.nickname)+"\n            ")])])})),t._v(" "),a("div",{staticClass:"modal-footer"},[a("div",{staticClass:"form-check"},[a("label",{staticClass:"form-check-label"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.selectAll,expression:"selectAll"}],staticClass:"form-check-input",attrs:{type:"checkbox"},domProps:{value:!0,checked:Array.isArray(t.selectAll)?t._i(t.selectAll,!0)>-1:t.selectAll},on:{click:function(e){e.stopPropagation(),t.toogleAll(e)},__c:function(e){var a=t.selectAll,o=e.target,r=!!o.checked;if(Array.isArray(a)){var i=t._i(a,!0);o.checked?i<0&&(t.selectAll=a.concat([!0])):i>-1&&(t.selectAll=a.slice(0,i).concat(a.slice(i+1)))}else t.selectAll=r}}}),t._v("全选\n            ")])]),t._v(" "),a("div",{staticClass:"refresh",on:{click:t.getGroupList}},[t._v("刷新群")]),t._v(" "),a("div",{staticClass:"select"},[t._v("已选"+t._s(t.addGroupData.length)+"/"+t._s(t.unMonitorGroupList.length)+"个")]),t._v(" "),a("button",{staticClass:"btn btn-submit",attrs:{type:"button"},on:{click:t.submit}},[t._v("确定添加")])])])},r=[],i={render:o,staticRenderFns:r};e.a=i},200:function(t,e,a){"use strict";var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"group-list"}},[a("transition-group",{attrs:{tag:"ul"}},[a("li",{key:"0",staticClass:"group",on:{click:t.openAddGroupModal}},[a("span",[t._v("+ 添加群")])]),t._v(" "),t._l(t.groupList[t.$route.params.id],function(e){return a("li",{key:e.id,staticClass:"group"},[a("span",[t._v(t._s(e.nickname))]),t._v(" "),a("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(a){t.openDeleteGroup(e.id,e.nickname)}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])})],2),t._v(" "),a("add-group-modal",{attrs:{active:t.addGroupModal},on:{close:t.closeAddGroupModal,successAddGroup:t.getGroupList}}),t._v(" "),a("message-box",{attrs:{active:t.deteleGroupModal,title:""},on:{close:t.closeDeleteGroup,submit:function(e){t.deleteGroup(t.deleteData.id)}}},[a("span",[t._v("你您确定要删除“"+t._s(t.deleteData.name)+"“群么？"),a("br"),t._v("删除后该群将不再提供机器人服务")])])],1)},r=[],i={render:o,staticRenderFns:r};e.a=i}});
//# sourceMappingURL=4.413ca131f8d69d32ef63.js.map