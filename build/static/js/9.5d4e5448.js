(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"/IbH":function(t,s,e){"use strict";e.r(s);var a=e("rmO2"),n=e.n(a),r=e("vm/U"),i=e.n(r),o=e("9cTa"),c=e.n(o),l=e("QdXe"),u=e.n(l),d=e("lOrp"),v=e("XvUP"),_=e("FklK"),f={name:"MassRecord",created:function(){this.init()},data:function(){return{massList:[]}},methods:u()({openGroupList:function(t){v.a.hasClass(t.target,"active")?v.a.removeClass(t.target,"active"):v.a.addClass(t.target,"active")},fullMsg:function(t){v.a.hasClass(t.target,"active")?v.a.removeClass(t.target,"active"):v.a.addClass(t.target,"active")},init:function(){var t=c()(n.a.mark(function t(){var s,e,a,r,o=this;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.loading({text:"正在加载"}),t.prev=1,t.next=4,_.a.getMsgRecord({userId:this.userToken,pageNow:1,pageSize:30});case 4:e=t.sent,a=e.records,r=e.sendStatusMap,a.forEach(function(t,s){o.robotList.forEach(function(e){e.id===t.robotId&&(a[s].robotName=e.nickname)}),a[s].sendStatusStr=r[t.sendStatus]}),this.loaded(100),a.forEach(function(t,s){a[s].toNickname=t.toNickname.split(/,/)}),(s=this.massList).push.apply(s,i()(a)),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(1),this.loading({text:t.t0}),this.loaded(1500);case 17:case"end":return t.stop()}},t,this,[[1,13]])}));return function(){return t.apply(this,arguments)}}()},Object(d.c)(["loading"]),Object(d.b)(["loaded"])),watch:{$route:function(){this.init()}},filters:{formatDate:function(t){return v.a.formatDate(t,"YYYY-MM-dd HH:mm:ss")}},computed:u()({},Object(d.d)("Robot",{robotList:"list"}),Object(d.d)("User",{userToken:"userToken"}))},m=(e("NARG"),e("ertO")),h=Object(m.a)(f,function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{attrs:{id:"mass-record"}},[e("table",{staticClass:"table table-hover"},[t._m(0),t._v(" "),e("tbody",t._l(t.massList,function(s){return e("tr",[1===s.msgType?e("td",{staticClass:"msg",class:{list:s.contentOrUrl.length>=28},on:{click:t.fullMsg}},[t._v("\n                    "+t._s(s.contentOrUrl.substring(0,28))+"\n                    "),s.contentOrUrl.length>=28?e("div",{staticClass:"group-list"},[t._v(t._s(s.contentOrUrl))]):t._e()]):t._e(),t._v(" "),2===s.msgType?e("td",{attrs:{scope:"row"}},[e("img",{attrs:{src:s.contentOrUrl,alt:"群发图片"}})]):t._e(),t._v(" "),e("td",{staticClass:"date"},[t._v(t._s(t._f("formatDate")(s.gmtExecute)))]),t._v(" "),e("td",{staticClass:"group",class:{list:s.toNickname.length>1},on:{click:t.openGroupList}},[t._v("\n                    "+t._s(s.toNickname[0])+"\n                    "),e("ul",{staticClass:"group-list"},t._l(s.toNickname,function(s,a){return e("li",{key:a},[t._v(t._s(s))])}))]),t._v(" "),e("td",{staticClass:"name"},[t._v(t._s(s.robotName))]),t._v(" "),e("td",{staticClass:"statu"},[t._v(t._s(s.sendStatusStr))])])}))])])},[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("thead",[e("tr",[e("th",[t._v("群发内容")]),t._v(" "),e("th",[t._v("发送时间")]),t._v(" "),e("th",[t._v("发送群")]),t._v(" "),e("th",[t._v("机器人")]),t._v(" "),e("th",[t._v("状态")])])])}],!1,null,"ababf208",null);h.options.__file="massRecord.vue";s.default=h.exports},NARG:function(t,s,e){"use strict";var a=e("fCm/");e.n(a).a},"fCm/":function(t,s,e){}}]);
//# sourceMappingURL=9.5d4e5448.js.map