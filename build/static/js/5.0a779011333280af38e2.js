webpackJsonp([5],{169:function(e,a,t){"use strict";function s(e){t(236)}Object.defineProperty(a,"__esModule",{value:!0});var o=t(238),n=t(240),r=t(4),i=s,c=r(o.a,n.a,i,"data-v-1fce103a",null);a.default=c.exports},236:function(e,a,t){var s=t(237);"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);t(159)("1ff7e9ea",s,!0)},237:function(e,a,t){a=e.exports=t(158)(!0),a.push([e.i,"#red-package[data-v-1fce103a]{color:#585b60}#red-package .col-form-label[data-v-1fce103a]{text-align:center}#red-package footer[data-v-1fce103a]{margin-top:32px;margin-top:2rem;padding-bottom:32px;padding-bottom:2rem;margin-right:-15px;margin-left:-15px;border-top:1px solid #b9b9b9}#red-package footer .save[data-v-1fce103a]{margin-top:24px;margin-top:1.5rem;margin-right:auto;margin-left:auto;display:block;padding:12.8px 64px;padding:.8rem 4rem;background-color:#555;color:#fff;border-radius:0}#red-package footer .save[disabled=disabled][data-v-1fce103a]{background-color:#cacaca}.money input[data-v-1fce103a]{margin-right:7px}.inline-margin[data-v-1fce103a]{line-height:35.2px;line-height:2.2rem}.toggle-button[data-v-1fce103a]{margin-top:5px}","",{version:3,sources:["/Users/hxf/www/weRobot/src/page/Operate/RedPacket.vue"],names:[],mappings:"AAAA,8BAA8B,aAAa,CAAC,8CAA8C,iBAAiB,CAAC,qCAAqC,gBAAgB,gBAAgB,oBAAoB,oBAAoB,mBAAmB,kBAAkB,4BAA4B,CAAC,2CAA2C,gBAAgB,kBAAkB,kBAAkB,iBAAiB,cAAc,oBAAoB,mBAAmB,sBAAsB,WAAW,eAAe,CAAC,8DAA8D,wBAAwB,CAAC,8BAA8B,gBAAgB,CAAC,gCAAgC,mBAAmB,kBAAkB,CAAC,gCAAgC,cAAc,CAAC",file:"RedPacket.vue",sourcesContent:["#red-package[data-v-1fce103a]{color:#585b60}#red-package .col-form-label[data-v-1fce103a]{text-align:center}#red-package footer[data-v-1fce103a]{margin-top:32px;margin-top:2rem;padding-bottom:32px;padding-bottom:2rem;margin-right:-15px;margin-left:-15px;border-top:1px solid #b9b9b9}#red-package footer .save[data-v-1fce103a]{margin-top:24px;margin-top:1.5rem;margin-right:auto;margin-left:auto;display:block;padding:12.8px 64px;padding:.8rem 4rem;background-color:#555;color:#fff;border-radius:0}#red-package footer .save[disabled=disabled][data-v-1fce103a]{background-color:#cacaca}.money input[data-v-1fce103a]{margin-right:7px}.inline-margin[data-v-1fce103a]{line-height:35.2px;line-height:2.2rem}.toggle-button[data-v-1fce103a]{margin-top:5px}"],sourceRoot:""}])},238:function(e,a,t){"use strict";var s=t(5),o=t.n(s),n=t(12),r=t.n(n),i=t(13),c=t.n(i),p=t(8),l=t(239);a.a={name:"RedPacket",created:function(){var e=this;return c()(r.a.mark(function a(){return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.getConfig();case 2:case"end":return a.stop()}},a,e)}))()},data:function(){return{packetData:{status:0,budget:"",redEnvelopesNums:"",redEnvelopesType:1,amountRandomUpper:"",amountRandomLower:"",pageDoc1:"",pageDoc2:"",timesLimit:!1,timesLimitUpper:""},readOnly:!1}},methods:o()({getConfig:function(){var e=this;return c()(r.a.mark(function a(){var t;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e.loading({text:"正在加载"}),a.prev=1,a.next=4,l.a.getEnvelopesConfig({groupId:e.$route.params.id});case 4:t=a.sent,null===t?e.packetData.status=0:(e.readOnly=!0,e.packetData=t),e.loaded(100),a.next=13;break;case 9:a.prev=9,a.t0=a.catch(1),e.loading({text:a.t0}),e.loaded(1500);case 13:case"end":return a.stop()}},a,e,[[1,9]])}))()},init:function(){this.packetData={status:0,budget:"",redEnvelopesNums:"",redEnvelopesType:1,amountRandomUpper:"",amountRandomLower:"",pageDoc1:"",pageDoc2:"",timesLimit:!1,timesLimitUpper:""}},submit:function(){this.readOnly?this.closePacket():this.openPacket()},openPacket:function(){var e=this;return c()(r.a.mark(function a(){var t;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e.loading({text:"正在保存"}),a.prev=1,a.next=4,l.a.redEnvelopesConfig(o()({},e.packetData,{userId:e.userId,groupId:e.$route.params.id}));case 4:return t=a.sent,e.loading({text:t}),a.next=8,e.getConfig();case 8:a.next=14;break;case 10:a.prev=10,a.t0=a.catch(1),e.loading({text:a.t0}),e.loaded(1500);case 14:case"end":return a.stop()}},a,e,[[1,10]])}))()},closePacket:function(){var e=this;return c()(r.a.mark(function a(){var t;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e.loading({text:"正在关闭"}),a.prev=1,a.next=4,l.a.redEnvelopesClose({groupId:e.$route.params.id});case 4:return t=a.sent,e.loading({text:t}),a.next=8,e.getConfig();case 8:a.next=14;break;case 10:a.prev=10,a.t0=a.catch(1),e.loading({text:a.t0}),e.loaded(1500);case 14:case"end":return a.stop()}},a,e,[[1,10]])}))()}},Object(p.c)(["loading"]),Object(p.b)(["loaded"])),watch:{$route:function(){var e=this;return c()(r.a.mark(function a(){return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e.readOnly=!1,e.init(),a.next=4,e.getConfig();case 4:case"end":return a.stop()}},a,e)}))()}},computed:o()({status:{get:function(){return 0!==this.packetData.status},set:function(e){this.packetData.status=!1===e?0:1}},isSave:function(){return!(!this.packetData.status||!this.readOnly)||(""===this.packetData.budget||""===this.packetData.redEnvelopesNums||(""===this.packetData.pageDoc1||""===this.packetData.pageDoc2||(2===this.packetData.redEnvelopesType&&(""===this.packetData.amountRandomLower||""===this.packetData.amountRandomUpper)||!(!this.packetData.timesLimit||""!==this.packetData.timesLimitUpper))))},statusStr:function(){var e="";switch(this.packetData.status){case 1:e="正在进行";break;case 2:e="已领完";break;case 3:e="已关闭"}return e},budget:{get:function(){return""===this.packetData.budget?"":this.packetData.budget/100},set:function(e){this.packetData.budget=100*e}},amountRandomUpper:{get:function(){return""===this.packetData.amountRandomUpper?"":this.packetData.amountRandomUpper/100},set:function(e){this.packetData.amountRandomUpper=100*e}},amountRandomLower:{get:function(){return""===this.packetData.amountRandomLower?"":this.packetData.amountRandomLower/100},set:function(e){this.packetData.amountRandomLower=100*e}}},Object(p.d)("User",{userId:"userToken"}))}},239:function(e,a,t){"use strict";var s=t(16),o=t.n(s),n=t(21),r=function(e){return new o.a(function(a,t){n.b.post("/red/redEnvelopesConfig",e).then(function(e){e.data.status?a(e.data.message):t(e.data.message)}).catch(function(){t("网络不稳定请刷新重试！")})})},i=function(e){return new o.a(function(a,t){n.b.get("/red/getEnvelopesConfig",{params:e}).then(function(e){e.data.status?a(e.data.entry):t(e.data.message)}).catch(function(){t("网络不稳定请刷新重试！")})})},c=function(){return new o.a(function(e,a){n.b.get("/red/envelopesConfigInit").then(function(t){t.data.status?e(t.data.entry):a(t.data.message)}).catch(function(){a("网络不稳定请刷新重试！")})})},p=function(e){return new o.a(function(a,t){n.b.get("/red/redEnvelopesClose",{params:e}).then(function(e){e.data.status?a(e.data.message):t(e.data.message)}).catch(function(){t("网络不稳定请刷新重试！")})})};a.a={redEnvelopesConfig:r,getEnvelopesConfig:i,envelopesConfigInit:c,redEnvelopesClose:p}},240:function(e,a,t){"use strict";var s=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("form",{attrs:{id:"red-package"},on:{submit:function(a){a.preventDefault(),e.submit(a)}}},[t("div",{staticClass:"form-group row"},[t("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"status"}},[e._v("功能状态  ")]),e._v(" "),t("div",{staticClass:"col-sm-2"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.status,expression:"status"}],staticClass:"toggle-button",attrs:{type:"checkbox",id:"status"},domProps:{checked:Array.isArray(e.status)?e._i(e.status,null)>-1:e.status},on:{__c:function(a){var t=e.status,s=a.target,o=!!s.checked;if(Array.isArray(t)){var n=e._i(t,null);s.checked?n<0&&(e.status=t.concat([null])):n>-1&&(e.status=t.slice(0,n).concat(t.slice(n+1)))}else e.status=o}}})]),e._v(" "),t("span",{directives:[{name:"show",rawName:"v-show",value:e.readOnly&&e.status,expression:"readOnly && status"}],staticClass:"inline-margin"},[e._v("红包状态："+e._s(e.statusStr))])]),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:e.status,expression:"status"}],staticClass:"form-group row"},[t("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"budget"}},[e._v("群内红包预算")]),e._v(" "),t("div",{staticClass:"col-sm-2"},[t("input",{directives:[{name:"model",rawName:"v-model.number",value:e.budget,expression:"budget",modifiers:{number:!0}}],staticClass:"form-control",attrs:{type:"number",id:"budget",placeholder:"元",min:"1",readonly:e.readOnly},domProps:{value:e.budget},on:{input:function(a){a.target.composing||(e.budget=e._n(a.target.value))},blur:function(a){e.$forceUpdate()}}})]),e._v(" "),t("span",{directives:[{name:"show",rawName:"v-show",value:e.readOnly,expression:"readOnly"}],staticClass:"inline-margin"},[e._v("剩余金额："+e._s(e.packetData.residueAmount/100)+"元")])]),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:e.status,expression:"status"}],staticClass:"form-group row"},[t("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"num"}},[e._v("红包发放个数")]),e._v(" "),t("div",{staticClass:"col-sm-2"},[t("input",{directives:[{name:"model",rawName:"v-model.number",value:e.packetData.redEnvelopesNums,expression:"packetData.redEnvelopesNums",modifiers:{number:!0}}],staticClass:"form-control",attrs:{type:"number",id:"num",placeholder:"个",max:e.budget,readonly:e.readOnly},domProps:{value:e.packetData.redEnvelopesNums},on:{input:function(a){a.target.composing||(e.packetData.redEnvelopesNums=e._n(a.target.value))},blur:function(a){e.$forceUpdate()}}})]),e._v(" "),t("span",{directives:[{name:"show",rawName:"v-show",value:e.readOnly,expression:"readOnly"}],staticClass:"inline-margin"},[e._v("剩余数量："+e._s(e.packetData.residueNums)+"个")])]),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:e.status,expression:"status"}],staticClass:"form-group row money"},[t("label",{staticClass:"col-sm-2 col-form-label"},[e._v("拉新红包金额")]),e._v(" "),t("div",{staticClass:"col-sm-8"},[t("div",{staticClass:"form-check"},[t("label",{staticClass:"form-check-label",attrs:{for:"fix"}},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.packetData.redEnvelopesType,expression:"packetData.redEnvelopesType"}],staticClass:"form-check-input",attrs:{type:"radio",name:"type",id:"fix",disabled:e.readOnly},domProps:{value:1,checked:e._q(e.packetData.redEnvelopesType,1)},on:{__c:function(a){e.packetData.redEnvelopesType=1}}}),e._v("固定红包\n                ")])]),e._v(" "),t("div",{staticClass:"form-check"},[t("label",{staticClass:"form-check-label",attrs:{for:"random"}},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.packetData.redEnvelopesType,expression:"packetData.redEnvelopesType"}],staticClass:"form-check-input",attrs:{type:"radio",name:"type",id:"random",disabled:e.readOnly},domProps:{value:2,checked:e._q(e.packetData.redEnvelopesType,2)},on:{__c:function(a){e.packetData.redEnvelopesType=2}}}),e._v("随机红包\n                    "),t("input",{directives:[{name:"model",rawName:"v-model.number",value:e.amountRandomLower,expression:"amountRandomLower",modifiers:{number:!0}},{name:"show",rawName:"v-show",value:2===e.packetData.redEnvelopesType,expression:"packetData.redEnvelopesType === 2"}],staticStyle:{width:"80px"},attrs:{type:"number",min:"1",max:e.budget,readonly:e.readOnly},domProps:{value:e.amountRandomLower},on:{input:function(a){a.target.composing||(e.amountRandomLower=e._n(a.target.value))},blur:function(a){e.$forceUpdate()}}}),e._v(" "),t("span",{directives:[{name:"show",rawName:"v-show",value:2===e.packetData.redEnvelopesType,expression:"packetData.redEnvelopesType === 2"}]},[e._v("- ")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model.number",value:e.amountRandomUpper,expression:"amountRandomUpper",modifiers:{number:!0}},{name:"show",rawName:"v-show",value:2===e.packetData.redEnvelopesType,expression:"packetData.redEnvelopesType === 2"}],staticStyle:{width:"80px"},attrs:{type:"number",min:e.amountRandomLower,max:e.budget,readonly:e.readOnly},domProps:{value:e.amountRandomUpper},on:{input:function(a){a.target.composing||(e.amountRandomUpper=e._n(a.target.value))},blur:function(a){e.$forceUpdate()}}})])])])]),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:e.status,expression:"status"}],staticClass:"form-group row"},[t("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"header-text"}},[e._v("红包页文案")]),e._v(" "),t("div",{staticClass:"col-sm-4"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.packetData.pageDoc1,expression:"packetData.pageDoc1"}],staticClass:"form-control",attrs:{type:"text",id:"header-text",placeholder:"红包说明文案",maxlength:"6",readonly:e.readOnly},domProps:{value:e.packetData.pageDoc1},on:{input:function(a){a.target.composing||(e.packetData.pageDoc1=a.target.value)}}})])]),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:e.status,expression:"status"}],staticClass:"form-group row"},[t("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"bottom-text"}}),e._v(" "),t("div",{staticClass:"col-sm-4"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.packetData.pageDoc2,expression:"packetData.pageDoc2"}],staticClass:"form-control",attrs:{type:"text",id:"bottom-text",placeholder:"邀请拉新文案",maxlength:"25",readonly:e.readOnly},domProps:{value:e.packetData.pageDoc2},on:{input:function(a){a.target.composing||(e.packetData.pageDoc2=a.target.value)}}})])]),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:e.status,expression:"status"}],staticClass:"form-group row money"},[t("label",{staticClass:"col-sm-2 col-form-label"},[e._v("单人邀请奖励数")]),e._v(" "),t("div",{staticClass:"col-sm-8"},[t("div",{staticClass:"form-check"},[t("label",{staticClass:"form-check-label"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.packetData.timesLimit,expression:"packetData.timesLimit"}],staticClass:"form-check-input",attrs:{type:"radio",name:"limit",disabled:e.readOnly},domProps:{value:!1,checked:e._q(e.packetData.timesLimit,!1)},on:{__c:function(a){e.packetData.timesLimit=!1}}}),e._v("不限\n                ")])]),e._v(" "),t("div",{staticClass:"form-check"},[t("label",{staticClass:"form-check-label"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.packetData.timesLimit,expression:"packetData.timesLimit"}],staticClass:"form-check-input",attrs:{type:"radio",name:"limit",disabled:e.readOnly},domProps:{value:!0,checked:e._q(e.packetData.timesLimit,!0)},on:{__c:function(a){e.packetData.timesLimit=!0}}}),e._v("限制次数\n                    "),t("input",{directives:[{name:"model",rawName:"v-model.number",value:e.packetData.timesLimitUpper,expression:"packetData.timesLimitUpper",modifiers:{number:!0}},{name:"show",rawName:"v-show",value:e.packetData.timesLimit,expression:"packetData.timesLimit"}],staticStyle:{width:"80px"},attrs:{type:"number",placeholder:"次",min:"1",readonly:e.readOnly},domProps:{value:e.packetData.timesLimitUpper},on:{input:function(a){a.target.composing||(e.packetData.timesLimitUpper=e._n(a.target.value))},blur:function(a){e.$forceUpdate()}}})]),e._v(" "),t("small",{staticClass:"form-text text-muted"},[e._v("单人邀请他人入群，奖励到达上限后，不再发放")])])])]),e._v(" "),t("footer",[t("button",{staticClass:"save",attrs:{type:"submit",disabled:e.isSave}},[e._v("保存")])])])},o=[],n={render:s,staticRenderFns:o};a.a=n}});
//# sourceMappingURL=5.0a779011333280af38e2.js.map